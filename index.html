<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Game Engine UI</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/material-darker.min.css">
</head>
<body>
    <div class="engine-ui">
        <header class="toolbar">
            <button>▶ Play</button>
            <button>⏸ Pause</button>
            <button>■ Stop</button>
            <div class="tools">
                <button id="tool-select" class="tool active">✋ Select</button>
                <button id="tool-move" class="tool">↔ Move</button>
                <button id="tool-rotate" class="tool">⟳ Rotate</button>
                <button id="tool-scale" class="tool">⇲ Scale</button>
            </div>
        </header>
        
        <aside class="left-panel">
            <div class="hierarchy-panel">
                <div class="panel-header">
                    <h3>Hierarchy</h3>
                    <div class="dropdown">
                        <button id="add-gameobject-btn" class="add-btn">+</button>
                        <div id="add-object-dropdown" class="dropdown-content">
                            <a href="#" data-type="Rectangle">Rectangle</a>
                            <a href="#" data-type="Ellipse">Ellipse</a>
                            <a href="#" data-type="Sprite">Sprite</a>
                            <a href="#" data-type="Text">Text</a>
                            <a href="#" data-type="Polygon">Polygon</a>
                            <a href="#" data-type="Star">Star</a>
                            <a href="#" data-type="Triangle">Triangle</a>
                            <a href="#" data-type="Line">Line</a>
                            <a href="#" data-type="Curve">Curve</a>
                        </div>
                    </div>
                </div>
                <ul id="hierarchy-list">
                    <!-- Game objects will be listed here by JS -->
                </ul>
            </div>
        </aside>

        <main class="center-panel">
            <div class="scene-view">
                <div class="scene-tabs-header">
                    <div id="scene-tabs-container" class="tabs-container">
                        <!-- Tabs will be generated by JS -->
                    </div>
                    <button id="add-scene-btn" class="add-tab-btn">+</button>
                </div>
                <div id="scene-canvas-container"></div>
            </div>
            <div id="script-editor-view" class="script-editor-view" style="display: none;">
                <div class="script-editor-header">
                    <span id="script-editor-filename"></span>
                    <button id="script-editor-close-btn">✖</button>
                </div>
                <div id="script-editor-container"></div>
            </div>
            <div class="console-area">
                <div class="console-tabs-header">
                    <div id="console-tabs-container" class="tabs-container">
                        <div class="tab active" data-tab="console">Console</div>
                        <div class="tab" data-tab="assets">Assets</div>
                    </div>
                </div>
                <div id="console-tab-content" class="console-tab-content">
                    <div class="console-left-sidebar">
                        <div class="console-sidebar-header">
                            <h4>Files</h4>
                        </div>
                        <div id="file-tree">
                            <!-- File tree will be generated by JS -->
                        </div>
                    </div>
                    <div class="console-right-content">
                        <div id="console-panel" class="console-panel tab-pane active">
                            <div id="console-output">
                                <div>[Log] Engine UI Initialized.</div>
                            </div>
                        </div>
                        <div id="assets-panel" class="assets-panel tab-pane">
                            <!-- Assets will be listed here by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <aside class="right-panel">
            <div class="inspector-panel">
                <h3>Inspector</h3>
                <div id="inspector-content">
                    <p>Select an object to inspect its properties.</p>
                </div>
            </div>
        </aside>
    </div>

    <div id="hierarchy-context-menu" class="context-menu">
        <ul>
            <li data-action="add-script">Add Script</li>
            <li data-action="delete">Delete</li>
        </ul>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/javascript/javascript.min.js"></script>

    <script type="importmap">
    {
        "imports": {
            "phaser": "https://cdn.jsdelivr.net/npm/phaser@3.80.1/dist/phaser.esm.js",
            "lil-gui": "https://cdn.jsdelivr.net/npm/lil-gui@0.19.1/dist/lil-gui.esm.js",
            "@dimforge/rapier2d-compat": "https://esm.sh/@dimforge/rapier2d-compat",
            "bit-ecs": "https://cdn.jsdelivr.net/npm/bit-ecs@0.10.1/dist/index.mjs"
        }
    }
    </script>
    <script type="module" src="main.js"></script>
</body>
</html>